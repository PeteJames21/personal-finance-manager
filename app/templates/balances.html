{% extends "base.html" %}

{% block content %}

<section class="profile-bar">
    <div class="head-bar">
        <div class="current_user">
            <div class="current_user"><strong>From:</strong>  {{ data['start_date'] }}</div>
            <div class="current-profile"><strong>To:</strong>To: {{ data['end_date'] }}</div>
        </div>

        <div class="header-summary"><h3>Balances</h3></div>
        <div class="add-profile" >
            <a href="{{ url_for('add_profile') }}"><button id="add-profile"> Add a Profile</button></a>
        </div>
        <div class="switch-profiles">
            <label class=".switch-label" for="profileSwitch"><strong>Switch Profile:</strong></label>
            <div class="dropdown">
                <button id="switch-prof" onclick="toggleDropdown()" class="dropbtn">Select Profile</button>
                <div id="profileDropdown" class="dropdown-content">
                    <!-- JavaScript will populate options here -->
                </div>
            </div>
        </div>
    </div>
  <!--   <h5>{{ data['start_date'] }}</h5>
    <h5>{{ data['end_date'] }}</h5> -->
<!--     {{ data }} --> <!-- will display the profile that was selected -->


    <div class="profile">
        <div class="date-filter">
            <button id="toggleDateFilter">Filter Summary by Date</button>
            <div class="date-options">
                <form action="#" method="get" id="dateFilterForm" >
                    <label for="startDate">Start Date:</label>
                    <input type="date" id="startDate" name="startDate" required>

                    <label for="endDate">End Date:</label>
                    <input type="date" id="endDate" name="endDate" required>

                    <button type="submit">Apply Filter</button>
                </form>
            </div>
        </div>
        <div class="add-transaction">
            <a href="{{ url_for('add_transaction') }}"><button> Add a Transaction</button></a>
        </div>
        <div class="add-transaction">
            <a href="{{ url_for('add_account') }}"><button> Add Account</button></a>
        </div>
    </div>
</section>
<section class="account-totals">
    {% for item in data['balances']|dictsort %}
        <div class="account-balance"><h4>
            {{ item[0] }}
            <br>
            {{ item[1] }}</h4>
        </div>
    {% endfor %}
</section>
{% endblock %}
